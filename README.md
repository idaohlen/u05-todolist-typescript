# u05-todolist-typescript

[Se todolistan på Netlify](https://idaohlen-todolist-typescript-local.netlify.app)  
[Se todolistan på Netlify (Supabase)](https://idaohlen-u05-todolist-typescript.netlify.app)

Jag har byggt en todolist i TypeScript som använder [Supabase](https://supabase.com) för användarautentisering och för att spara data i en databas lagrad hos Supabase. På första sidan kan man välja att skapa ett konto eller logga in, och sedan förs man vidare till själva listan som tillhör den inloggade användaren. Man kan skapa, ta bort och ändra sina todos, och i inställningsmenyn som finns att hitta i övre högra hörnet kan man välja att ta bort alla todos eller logga ut. Varje todo har en förklarande text, men man kan också välja att ge den en kategori eller ange ett datum för när todon ska vara klar. I sin lista kan man sedan välja att filtrera sina todos på datum och kategorier, och båda filterna fungerar tillsammans.

Projektet är byggt med hjälp av Vite och deployas mot Netlify. Supabases API-nyckel lagras lokalt i en .env fil som inte pushas till GitHub, och förvaras även hos Netlify genom deras gränsnitt för environment variables för att kunna koppla upp sig till Supabase databasen vid deployning. Detta av säkerhetsskäl så att ingen obehörig ska ha åtkomst till API-nyckeln.

Jag har använd några packages/libraries för att underlätta vissa moment i kodningen:
- [fontsource](https://fontsource.org): Används för att spara Google fonts lokalt i projektet istället för att hämta från Googles servrar.
- [iconify-icon](https://iconify.design/docs/iconify-icon/): För att enkelt lägga in ikoner via Iconifys ikon-databas. Bara de ikoner man använder sparas i projektet, vilket ger bättre performance än att lägga in ett helt ikonbibliotek med massor av ikoner man inte använder.
- [flatpickr](https://flatpickr.js.org): Då jag hade en specifik design i åtanke när det gällde hur man skulle välja datum för sina todos blev det väldigt krångligt att använda `<input type="date">` HTML-elementet, så jag använder flatpickr istället som ger mig mer frihet att göra som jag vill med datum-inmatningen.
- [tippy.js](https://atomiks.github.io/tippyjs/): Eftersom mycket av designen förlitar sig på ikoner istället för att visa text tyckte jag det behövdes tooltips for att förtydliga vad olika knappar gör och för att förmedla mer information. Detta blev ganska invecklat att implementera själv, så tippy.js var ett bra hjälpmedel som funkar enkelt och smidigt.

## Kodanalys
Jag har försökt hålla min kod strukturerad allteftersom jag implementerat ny logik, men upplevde att det snabbt blev rörigt att hitta olika delar av koden ju mer saker som lades till. Jag har försökt att dela upp delar av koden i moduler, och jag hade nog kunnat delat upp ännu mer, men det blir krångligt och komplext när mycket av koden hänger ihop. Detta är ändå ett relativt litet projekt, men lägger man ihop alla små features blir det ändå ganska komplicerat att strukturera upp och hålla koll på hur alla bitar fungerar tillsammans.

Här kan jag verkligen se nyttan av att använda sig av frameworks som React för att dela upp komponenter och logik så att ens kod blir mer välstrukturerad och tydlig att navigera i, samt ger färdiga lösningar på vanliga problem man stöter på när man skriver i vanilla JavaScript.

TypeScript har jag upplevt som ett bra verktyg att se till att man använder sina funktioner på rätt sätt och matar in rätt typ av data. Upplever det ibland som lite frustrerande när man måste sätta in type guards på ställen man tycker känns onödigt, men på det stora hela bidrar det med ganska många fördelar trots att man behöver skriva mer kod.

Finns nog mycket som kan förbättras med hänsyn till Supabase ur säkerhetsperspektiv och bättre hantering av fel. Har upplevt ett flertal buggar som uppstått när det varit dålig uppkoppling till Supabase som har varit ganska krångligt att felsöka då buggarna uppstått väldigt oregelbundet. Todolistan kan stundtals upplevas som långsam då den måste vänta in svar från Supabase, så det hade varit fördelaktigt att göra någon slags optimering i koden så att man i första hand uppdaterar lokal data och låter Supabase requesten arbeta i bakgrunden. Och andra sidan kan ju detta ställa till problem ifall requesten misslyckas, så kanske detta är något man helt enkelt får leva med om man har ett gratiskonto hos Supabase. Den upplevda långsamheten uppstod mest när man skulle ändra todos, så där löste jag det genom att plocka todo-datat från en lokalt sparad variabel av todos istället för att göra en request till Supabase varje gång ändra-todo-modalen öppnades, vilket jag tyckte var en godtagbar lösning i det fallet.

Alla funktioner i todolistan fungerar inte optimalt på mobil, så där behövs det en hel del förbättringar både vad gäller CSS anpassning och funktionalitet. Bland annat fungerar inte flatpickr kalendern som den ska, men då det egentligen är en liten "extra" grej valde jag att inte prioritera att lösa det problemet.

Jag har flitigt använt mig av AI som ett bollplank att hitta lösningar och för att förklara saker jag inte förstår. Jag har försökt att vara källkritisk och ifrågasatt svar som jag tyckt varit inkorrekta, och läst dokumentation vid sidan av för att vara säker på att koden jag skriver ska bli rätt. Trots att alla svar man får inte alltid är 100% rätt så är AI i många fall ett mycket effektivt alternativ till en sökmotor som Google, där man kan behöva klicka runt på ett tiotal sidor innan man får ett svar som _kanske_ hjälper en, men många gånger lyckas man ändå inte alls hitta en bra källa, och sällan en källa som är anpassad efter den kunskapsnivån man själv är på. Även om AI kan ge felaktiga svar så får man ändå ett svar som kan hjälpa en på vägen, och vet man hur man ställer rätt följdfrågor så kan man komma väldigt långt och spara mycket tid på att leta upp information och resurser.
